(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{213:function(e,t,n){e.exports=n(565)},218:function(e,t,n){},493:function(e,t){},495:function(e,t){},504:function(e,t){},527:function(e,t){},565:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),i=n.n(o),c=(n(218),n(87)),s=n(127),l=n(67),u=n(10),d=n.n(u),p=n(18),m=n(49),f=n(62),h=n(63),v=n(65),b=n(64),g=n(66),x=(n(221),n(16)),w=n(212),E=n.n(w),k=n(33),O=n(203),y=n.n(O),j=n(204),C=n.n(j),D=n(205),I=n.n(D)()({prettyPrint:!0});I.level="trace";var R=function(e){return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];I[e].apply(I,n)}},S={info:I.info.bind(I),debug:I.debug.bind(I),trace:I.trace.bind(I),warn:I.warn.bind(I),error:R("error"),fatal:R("fatal")},A={baseURL:"https://1dfmrsdyd6.execute-api.us-east-1.amazonaws.com/dev",timeout:4e3},N=C.a.create(A),L=function(){var e=Object(p.a)(d.a.mark(function e(){var t,n,a=arguments;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},S.debug("API REQUEST =>",Object(m.a)({},A,t)),e.prev=2,e.next=5,N(t);case 5:return n=e.sent,S.debug("API RESPONSE =>",n),e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(2),S.error(e.t0),e.t0;case 14:case"end":return e.stop()}},e,this,[[2,10]])}));return function(){return e.apply(this,arguments)}}(),T=n(206),B=n.n(T),P=n(207),F=n.n(P),z=(n(548),n(549),n(550),n(551),n(552),n(208)),M=function(e){var t=e.value,n=void 0===t?"":t,a=e.options,o=void 0===a?{}:a;return r.a.createElement(z.UnControlled,Object.assign({},e,{value:n,options:o}))},U=n(209),W=n.n(U),Y=n(210),K=n.n(Y),G=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(v.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).editor=null,n.editorRef=r.a.createRef(),n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidUpdate",value:function(e){this.editor&&e.data!==this.props.data&&this.editor.setData(this.props.data)}},{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark(function e(){var t=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.CKEDITOR){e.next=4;break}return e.next=4,new Promise(function(e,t){return K.a.get("/ckeditor/ckeditor.js",e,t)});case 4:if(!window.CKEDITOR){e.next=10;break}return this.editor=window.CKEDITOR.replace(this.editorRef.current,{toolbarGroups:[{name:"document",groups:["mode","document","doctools"]},{name:"editing",groups:["find","selection","spellchecker","editing"]},{name:"forms",groups:["forms"]},{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"insert",groups:["insert"]},{name:"links",groups:["links"]},"/",{name:"clipboard",groups:["undo","clipboard"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi","paragraph"]},{name:"styles",groups:["styles"]},{name:"colors",groups:["colors"]},{name:"tools",groups:["tools"]},{name:"others",groups:["others"]},{name:"about",groups:["about"]}],removeButtons:"Cut,Copy,Paste,Internallink"}),e.next=8,new Promise(function(e){return t.editor.setData(t.props.data,{callback:e})});case 8:this.editor.on("change",function(e){t.props.onChange(e.editor.getData())}),this.props.setCkeditorRef(this.editor);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),S.error(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.editor){e.next=3;break}return e.next=3,this.editor.destroy();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"wysiwyg"},r.a.createElement("div",{className:"ckeditor4",ref:this.editorRef}))}}]),t}(r.a.Component);G.defaultProps={onChange:function(){},data:"",setCkeditorRef:function(){}};var J=G,V=n(211),_=n.n(V);function X(){var e=Object(l.a)(["display: none;"]);return X=function(){return e},e}function $(){var e=Object(l.a)(["cursor: pointer;"]);return $=function(){return e},e}function H(){var e=Object(l.a)(["\n                  display: flex; \n                  align-items: center;\n                "]);return H=function(){return e},e}function Q(){var e=Object(l.a)(["\n        padding-top: ",";\n\n        .nav {\n          z-index: 999;\n          display: flex;\n          justify-content: space-between;\n          height: ",";\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          background: #ffffff;\n          align-items: center;\n          padding: 0 .5rem;\n\n          > div {\n            display: flex;\n          }\n\n          .docsButton {\n            margin-right: 10px;\n\n            ul {\n              white-space: nowrap;\n            }\n          }\n\n          .feedback {\n            font-weight: lighter;\n          }\n\n          button {\n            font-weight: bold;\n          }\n        }\n\n        \n        .mainArea {\n          \n          .docsList {\n            width: 200px;\n            top: ",";\n            left: 0;\n            position: fixed;\n            height: calc(100vh - ",');\n            box-sizing: border-box;\n            background-color: #F9FAFC;\n            overflow: auto;\n            z-index: 1;\n\n            .docItem {\n              padding: .5rem;\n              font-weight: lighter;\n              font-size: 13.5px;\n              border-bottom: 1px solid #D3DCE6;\n              cursor: pointer;\n\n              &.active {\n                background-color: #1D8CE0;\n                color: #ffffff;\n              }\n            }\n\n          }\n          \n          .editorArea {\n            flex-grow: 1;\n            margin-left: 200px;\n\n            .cke_inner.cke_reset {\n              div[id$="_contents"] {\n                height: calc(100vh - '," - 77px) !important;\n              }\n            }\n            \n            .wysiwyg {\n              height: calc(100vh - ",");\n              background: #EFEFEF;\n\n              > div {\n                max-width: 800px;\n                margin: auto;\n              }\n            }\n            \n            .preview {\n              height: calc(100vh - ",");\n              box-sizing: border-box;\n              background: #EFEFEF;\n              padding: 2rem 2rem;\n              \n              .html {\n                background: #ffffff;\n                min-height: 100%;\n                padding: 1cm 2cm;\n                box-sizing: border-box;\n                max-width: 800px;\n                margin: auto;\n              }\n            }\n\n            .export {\n              position: relative;\n\n              .CodeMirror {\n                height: calc(100vh - ",");\n              }\n\n              .clipboardButton {\n                position: absolute;\n                top: 5px;\n                right: 5px;\n                z-index: 3;\n              }\n            }\n          }\n        }\n      "]);return Q=function(){return e},e}var q=new F.a({createClass:!1}),Z={modelRemote:"",model:"",parentId:void 0,title:void 0,mode:"edit",isLoadingAll:!1,activeDocId:"",jsx:""},ee=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(v.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).state=Object(m.a)({},Z,{docs:[]}),n.previewRef=r.a.createRef(),n.ckeditorRef=null,n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark(function e(){var t,n,a,r=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoadingAll:!0}),e.prev=1,e.next=4,L({url:"/docs",method:"GET"});case 4:t=e.sent,n=t.data,this.setState({docs:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),S.error(e.t0);case 12:this.setState({isLoadingAll:!1}),(a=new W.a(".clipboardButton",{text:function(e){return r.state.jsx}})).on("success",function(e){}),a.on("error",function(e){S.error(e)});case 16:case"end":return e.stop()}},e,this,[[1,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.history.push,n=this.state,a=n.parentId,o=n.title,i=n.docs,l=n.model,u=n.modelRemote,f=n.mode,h=n.isLoadingAll,v=n.activeDocId,b=n.jsx,g=this.setState.bind(this),w=this.previewRef;return r.a.createElement("div",{className:Object(k.a)(Q(),"50px","50px","50px","50px","50px","50px","50px","50px")},r.a.createElement("div",{className:"nav"},r.a.createElement("div",{className:"left"},r.a.createElement(x.Dropdown,{className:"docsButton",trigger:"click",onCommand:function(){var e=Object(p.a)(d.a.mark(function e(t){var n,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g({isLoadingAll:!0}),n=i.find(function(e){return e.id===t}),a=i.filter(function(e){return e.parentId===t||e.id===t}).sort(function(e,t){return+t.createdAt-e.createdAt}).shift(),e.prev=3,e.next=6,te({activeDocId:v,doc:a,setState:g});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),S.error(e.t0);case 11:g({parentId:n.id,title:n.title,mode:"edit",isLoadingAll:!1});case 12:case"end":return e.stop()}},e,this,[[3,8]])}));return function(t){return e.apply(this,arguments)}}(),menu:r.a.createElement(x.Dropdown.Menu,null,i.filter(function(e){return!!e.title}).sort(function(e,t){return e.title<t.title?-1:e.title>t.title?1:0}).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return r.a.createElement(x.Dropdown.Item,{className:"menuOption",key:t,command:e.id},e.title)}))},r.a.createElement(x.Button,{loading:h,disabled:!i.filter(function(e){return!!e.title}).length},r.a.createElement("span",null,"DOCS (",i.filter(function(e){return!!e.title}).length,")",r.a.createElement("i",{className:"el-icon-caret-bottom el-icon--right"})))),r.a.createElement(x.Button,{onClick:function(e){return g({mode:"edit"})},disabled:"edit"===f},"EDIT"),r.a.createElement(x.Button,{onClick:function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g({mode:"preview"});case 2:w.current.innerHTML=l;case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),disabled:"preview"===f},"PREVIEW"),r.a.createElement(x.Button,{onClick:function(e){var t=_()(l),n=q.convert(t),a="\nimport React from 'react'\n\nconst ExportedComponent = props => {\n  return (\n    \n    ".concat(n,"\n  )\n}\n\nexport default ExportedComponent\n");g({jsx:a,mode:"export"})},disabled:"export"===f||!l},"EXPORT to JSX"),r.a.createElement(ne,null,function(e){var t=e.handleState,n=e.state;return r.a.createElement(x.Button,{onClick:function(){var e=Object(p.a)(d.a.mark(function e(n){var r,i,c,u,p;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t({isLoading:!0}),o){e.next=15;break}return e.prev=2,e.next=5,x.MessageBox.prompt("Please enter a Title for this document","Set Title",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:/\w/,inputErrorMessage:"Invalid Title"});case 5:i=e.sent,c=i.value,r="".concat(c).trim(),g({title:r}),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(2),t({isLoading:!1}),e.abrupt("return");case 15:return e.prev=15,e.next=18,L({url:"/docs",method:"POST",data:{parentId:a,title:r,contents:l}});case 18:u=e.sent,p=u.data,g(function(e){var t=e.docs;return{modelRemote:l,docs:[].concat(Object(s.a)(t),[p]),activeDocId:p.id}}),a||g({parentId:p.id}),e.next=28;break;case 24:e.prev=24,e.t1=e.catch(15),S.error(e.t1),g({title:void 0});case 28:t({isLoading:!1});case 29:case"end":return e.stop()}},e,this,[[2,11],[15,24]])}));return function(t){return e.apply(this,arguments)}}(),loading:n.isLoading,type:"primary",disabled:y()(l,u)||""===l},"SAVE")})),r.a.createElement(ne,null,function(e){var t=e.handleState,n=e.state;return r.a.createElement(r.a.Fragment,null,"edit"===n.mode&&r.a.createElement("form",{className:Object(k.a)(H())},r.a.createElement(x.Input,{placeholder:"enter a title",value:n.title,onChange:function(e){return t({title:e})}}),r.a.createElement(x.Button,{nativeType:"submit",disabled:!/\w/.test(n.title)||n.title===o,icon:"circle-check",type:"primary",loading:n.isLoading,size:"small",onClick:function(){var e=Object(p.a)(d.a.mark(function e(r){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),t({isLoading:!0}),e.prev=2,e.next=5,L({url:"/docs/".concat(a),method:"PUT",data:{id:a,title:n.title}});case 5:g({title:n.title,docs:[].concat(Object(s.a)(i.filter(function(e){return e.id!==a})),[Object(m.a)({},i.find(function(e){return e.id===a}),{title:n.title})])}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),S.error(e.t0);case 11:t({mode:void 0,isLoading:!1});case 12:case"end":return e.stop()}},e,this,[[2,8]])}));return function(t){return e.apply(this,arguments)}}()},"SAVE"),r.a.createElement(x.Button,{size:"small",onClick:function(e){return t({mode:void 0})},icon:"circle-close"},"CANCEL")),!n.mode&&r.a.createElement(x.Tooltip,{content:"double click to edit"},r.a.createElement("div",{className:Object(k.b)("feedback",Object(k.a)($())),onDoubleClick:function(e){return t({mode:"edit",title:o})}},o&&"Title: ".concat(o))))}),r.a.createElement(x.Button,{type:"warning",onClick:function(n){e.ckeditorRef.setData(),g(Object(m.a)({},Z)),t("/")}},"CREATE NEW DOCUMENT")),r.a.createElement("div",{className:"mainArea"},r.a.createElement("div",{className:"docsList"},r.a.createElement(ne,null,function(e){var t=e.handleState,n=e.state;return r.a.createElement(r.a.Fragment,null,n.isLoading&&r.a.createElement(x.Loading,{fullscreen:!0}),!a&&r.a.createElement("div",{className:"docItem"},'Select a doc from "DOCS"'),a&&r.a.createElement(r.a.Fragment,null,i.filter(function(e){return e.parentId===a||e.id===a}).sort(function(e,t){return+t.createdAt-e.createdAt}).map(function(e,n){return r.a.createElement("div",{className:Object(k.b)({docItem:!0,active:v===e.id}),key:n,onClick:function(){var n=Object(p.a)(d.a.mark(function n(a){return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,te({activeDocId:v,doc:e,setState:g,handleState:t});case 2:g({mode:"edit"});case 3:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()},r.a.createElement("div",{className:"row"},"Revision created on"),r.a.createElement("div",{className:"row"},B()(e.createdAt).format("MM/DD/YYYY hh:mm:ss:SSS a")))})))})),r.a.createElement("div",{className:"editorArea"},r.a.createElement("div",{className:Object(k.b)("edit",Object(c.a)({},Object(k.a)(X()),"edit"!==f))},r.a.createElement(J,{setCkeditorRef:function(t){e.ckeditorRef=t},data:u,onChange:function(e){return g({model:e})}})),"preview"===f&&r.a.createElement("div",{className:"preview"},r.a.createElement("div",{className:"html",ref:w})),"export"===f&&r.a.createElement("div",{className:"export"},r.a.createElement("button",{className:"el-button clipboardButton el-button--success"},"COPY TO CLIPBOARD"),r.a.createElement(M,{value:b,options:{mode:"javascript",theme:"material",lineNumbers:!0,lineWrapping:!0,readOnly:!0}})))))}}]),t}(r.a.Component),te=function(){var e=Object(p.a)(d.a.mark(function e(t){var n,a,r,o,i,c,s,l,u,p;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.activeDocId,a=void 0===n?"":n,r=t.doc,o=void 0===r?{}:r,i=t.setState,c=void 0===i?function(){}:i,s=t.handleState,l=void 0===s?function(){}:s,!a||a!==o.id){e.next=3;break}return e.abrupt("return");case 3:return l({isLoading:!0}),e.prev=4,e.next=7,L({url:"/docs/".concat(o.id),method:"GET"});case 7:u=e.sent,p=u.data,c({model:p.contents,modelRemote:p.contents,activeDocId:o.id}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),S.error(e.t0);case 15:l({isLoading:!1});case 16:case"end":return e.stop()}},e,this,[[4,12]])}));return function(t){return e.apply(this,arguments)}}(),ne=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(v.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return this.props.children({handleState:this.setState.bind(this),state:this.state})}}]),t}(r.a.Component),ae=E()(ee);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re=n(567);i.a.render(r.a.createElement(re.a,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[213,1,2]]]);
//# sourceMappingURL=main.dc72a262.chunk.js.map